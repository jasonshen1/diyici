<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°å­—å†…é˜æµ‹è¯•</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #1a1a3e; color: #fff; }
        button { padding: 10px 20px; margin: 10px; cursor: pointer; }
        .test-box { background: rgba(255,255,255,0.1); padding: 20px; margin: 20px 0; border-radius: 8px; }
        .success { color: #10b981; }
        .error { color: #ef4444; }
        #file-input { display: none; }
    </style>
</head>
<body>
    <h1>æ•°å­—å†…é˜åŠŸèƒ½æµ‹è¯•</h1>
    
    <div class="test-box">
        <h2>æµ‹è¯•1: ä¸¥æ ¼æ¨¡å¼</h2>
        <label>
            <input type="checkbox" id="strict-mode"> ğŸ”’ ä¸¥æ ¼æ¨¡å¼
        </label>
        <div id="strict-info" style="display: none; background: rgba(102,126,234,0.2); padding: 10px; margin-top: 10px;">
            âœ… ä¸¥æ ¼æ¨¡å¼å·²å¼€å¯ï¼
        </div>
        <p id="strict-result"></p>
    </div>
    
    <div class="test-box">
        <h2>æµ‹è¯•2: é‡ç½®åŠŸèƒ½</h2>
        <input type="text" id="test-input" placeholder="è¾“å…¥ä¸€äº›æ–‡å­—" style="padding: 10px; width: 200px;">
        <button id="reset-btn">é‡ç½®</button>
        <p id="reset-result"></p>
    </div>
    
    <div class="test-box">
        <h2>æµ‹è¯•3: æ–‡ä»¶ä¸Šä¼ </h2>
        <button id="upload-btn">é€‰æ‹©æ–‡ä»¶</button>
        <input type="file" id="file-input" accept="image/*">
        <div id="file-list"></div>
        <p id="upload-result"></p>
    </div>
    
    <div id="console-output" style="background: #000; padding: 10px; margin-top: 20px; font-family: monospace; font-size: 12px; white-space: pre-wrap;"></div>

    <script>
        // ç®€å•çš„æ—¥å¿—è¾“å‡ºåˆ°é¡µé¢
        function log(msg) {
            const output = document.getElementById('console-output');
            output.textContent += msg + '\n';
        }
        
        log('é¡µé¢åŠ è½½å®Œæˆ');
        
        // æµ‹è¯•1: ä¸¥æ ¼æ¨¡å¼
        try {
            const strictMode = document.getElementById('strict-mode');
            const strictInfo = document.getElementById('strict-info');
            const strictResult = document.getElementById('strict-result');
            
            if (!strictMode || !strictInfo) {
                log('âŒ ä¸¥æ ¼æ¨¡å¼å…ƒç´ æœªæ‰¾åˆ°');
            } else {
                log('âœ… ä¸¥æ ¼æ¨¡å¼å…ƒç´ å·²æ‰¾åˆ°');
                
                strictMode.addEventListener('change', function() {
                    log('ä¸¥æ ¼æ¨¡å¼ change äº‹ä»¶è§¦å‘: ' + this.checked);
                    if (this.checked) {
                        strictInfo.style.display = 'block';
                        strictResult.textContent = 'âœ… ä¸¥æ ¼æ¨¡å¼å·²å¼€å¯';
                        strictResult.className = 'success';
                    } else {
                        strictInfo.style.display = 'none';
                        strictResult.textContent = 'âŒ ä¸¥æ ¼æ¨¡å¼å·²å…³é—­';
                        strictResult.className = 'error';
                    }
                });
            }
        } catch (e) {
            log('ä¸¥æ ¼æ¨¡å¼é”™è¯¯: ' + e.message);
        }
        
        // æµ‹è¯•2: é‡ç½®åŠŸèƒ½
        try {
            const testInput = document.getElementById('test-input');
            const resetBtn = document.getElementById('reset-btn');
            const resetResult = document.getElementById('reset-result');
            
            if (!testInput || !resetBtn) {
                log('âŒ é‡ç½®åŠŸèƒ½å…ƒç´ æœªæ‰¾åˆ°');
            } else {
                log('âœ… é‡ç½®åŠŸèƒ½å…ƒç´ å·²æ‰¾åˆ°');
                
                resetBtn.addEventListener('click', function() {
                    log('é‡ç½®æŒ‰é’®è¢«ç‚¹å‡»');
                    testInput.value = '';
                    resetResult.textContent = 'âœ… è¾“å…¥å·²æ¸…ç©º';
                    resetResult.className = 'success';
                });
            }
        } catch (e) {
            log('é‡ç½®åŠŸèƒ½é”™è¯¯: ' + e.message);
        }
        
        // æµ‹è¯•3: æ–‡ä»¶ä¸Šä¼ 
        try {
            const uploadBtn = document.getElementById('upload-btn');
            const fileInput = document.getElementById('file-input');
            const fileList = document.getElementById('file-list');
            const uploadResult = document.getElementById('upload-result');
            
            if (!uploadBtn || !fileInput) {
                log('âŒ æ–‡ä»¶ä¸Šä¼ å…ƒç´ æœªæ‰¾åˆ°');
            } else {
                log('âœ… æ–‡ä»¶ä¸Šä¼ å…ƒç´ å·²æ‰¾åˆ°');
                
                uploadBtn.addEventListener('click', function() {
                    log('ä¸Šä¼ æŒ‰é’®è¢«ç‚¹å‡»');
                    fileInput.click();
                });
                
                fileInput.addEventListener('change', function(e) {
                    log('æ–‡ä»¶é€‰æ‹©äº‹ä»¶è§¦å‘');
                    const files = e.target.files;
                    if (files.length > 0) {
                        const file = files[0];
                        log('é€‰æ‹©äº†æ–‡ä»¶: ' + file.name);
                        fileList.innerHTML = '<div>ğŸ“ ' + file.name + ' (' + (file.size/1024).toFixed(1) + ' KB)</div>';
                        uploadResult.textContent = 'âœ… æ–‡ä»¶å·²é€‰æ‹©';
                        uploadResult.className = 'success';
                    } else {
                        log('æ²¡æœ‰é€‰æ‹©æ–‡ä»¶');
                    }
                });
            }
        } catch (e) {
            log('æ–‡ä»¶ä¸Šä¼ é”™è¯¯: ' + e.message);
        }
        
        log('\næ‰€æœ‰åˆå§‹åŒ–å®Œæˆï¼Œè¯·æµ‹è¯•ä»¥ä¸ŠåŠŸèƒ½');
    </script>
</body>
</html>