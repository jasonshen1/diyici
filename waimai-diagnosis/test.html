<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤–å–åº—è¯Šæ–­ç³»ç»Ÿ - æµ‹è¯•é¡µé¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        
        .header p {
            opacity: 0.9;
            font-size: 14px;
        }
        
        .form-section {
            padding: 30px;
            border-bottom: 1px solid #eee;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 20px;
            padding-left: 12px;
            border-left: 4px solid #667eea;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            font-size: 14px;
            color: #555;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .form-group input,
        .form-group select {
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .form-group small {
            font-size: 12px;
            color: #999;
            margin-top: 4px;
        }
        
        .submit-btn {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 20px;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }
        
        .result-section {
            padding: 30px;
            background: #f8f9fa;
            display: none;
        }
        
        .result-section.active {
            display: block;
        }
        
        .score-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            margin-bottom: 24px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .score-value {
            font-size: 48px;
            font-weight: 700;
            color: #667eea;
        }
        
        .score-label {
            font-size: 18px;
            color: #666;
            margin-top: 8px;
        }
        
        .dimension-list {
            display: grid;
            gap: 12px;
        }
        
        .dimension-item {
            background: white;
            border-radius: 8px;
            padding: 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        
        .dimension-name {
            font-weight: 500;
            color: #333;
        }
        
        .dimension-score {
            font-weight: 700;
            font-size: 18px;
        }
        
        .dimension-score.good {
            color: #10b981;
        }
        
        .dimension-score.warning {
            color: #f59e0b;
        }
        
        .dimension-score.danger {
            color: #ef4444;
        }
        
        .suggestions {
            background: white;
            border-radius: 8px;
            padding: 20px;
            margin-top: 20px;
        }
        
        .suggestions h3 {
            font-size: 16px;
            margin-bottom: 16px;
            color: #333;
        }
        
        .suggestion-item {
            padding: 12px;
            background: #f0f9ff;
            border-left: 4px solid #667eea;
            border-radius: 4px;
            margin-bottom: 12px;
        }
        
        .suggestion-item strong {
            color: #667eea;
        }
        
        .preset-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .preset-btn {
            padding: 8px 16px;
            background: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.2s;
        }
        
        .preset-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸœ å¤–å–åº—æ™ºèƒ½è¯Šæ–­ç³»ç»Ÿ</h1>
            <p>è¾“å…¥åº—é“ºè¿è¥æ•°æ®ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸“ä¸šè¯Šæ–­æŠ¥å‘Š</p>
        </div>
        
        <div class="form-section">
            <div class="preset-buttons">
                <button class="preset-btn" onclick="fillPreset('good')">ğŸŸ¢ ä¼˜ç§€åº—é“ºç¤ºä¾‹</button>
                <button class="preset-btn" onclick="fillPreset('average')">ğŸŸ¡ æ™®é€šåº—é“ºç¤ºä¾‹</button>
                <button class="preset-btn" onclick="fillPreset('poor')">ğŸ”´ å¾…æ”¹è¿›åº—é“ºç¤ºä¾‹</button>
                <button class="preset-btn" onclick="fillPreset('clear')">ğŸ“ æ¸…ç©ºè¡¨å•</button>
            </div>
            
            <form id="diagnosisForm">
                <div class="section-title">ğŸ“ åº—é“ºåŸºæœ¬ä¿¡æ¯</div>
                <div class="form-grid">
                    <div class="form-group">
                        <label>åº—é“ºåç§°</label>
                        <input type="text" id="shopName" placeholder="ä¾‹å¦‚ï¼šè€å¼ ç‰›è‚‰é¢" value="æµ‹è¯•åº—é“º">
                    </div>
                    <div class="form-group">
                        <label>ç»è¥å“ç±»</label>
                        <select id="category">
                            <option value="fastfood">å¿«é¤ä¾¿å½“</option>
                            <option value="drink">é¥®å“ç”œå“</option>
                            <option value="bbq">çƒ§çƒ¤å¤œå®µ</option>
                            <option value="noodles">ç²‰é¢ç²¥ç‚¹</option>
                            <option value="other">å…¶ä»–</option>
                        </select>
                    </div>
                </div>
                
                <div class="section-title">ğŸ“Š æµé‡æ•°æ®ï¼ˆè¿‘7æ—¥æ—¥å‡ï¼‰</div>
                <div class="form-grid">
                    <div class="form-group">
                        <label>æ›å…‰äººæ•°</label>
                        <input type="number" id="exposure" placeholder="ä¾‹å¦‚ï¼š5000" value="3500">
                        <small>ç”¨æˆ·çœ‹åˆ°ä½ çš„åº—é“ºçš„æ¬¡æ•°</small>
                    </div>
                    <div class="form-group">
                        <label>è®¿é—®äººæ•°</label>
                        <input type="number" id="visit" placeholder="ä¾‹å¦‚ï¼š400" value="280">
                        <small>ç‚¹å‡»è¿›å…¥ä½ åº—é“ºçš„äººæ•°</small>
                    </div>
                    <div class="form-group">
                        <label>ä¸‹å•äººæ•°</label>
                        <input type="number" id="order" placeholder="ä¾‹å¦‚ï¼š80" value="45">
                        <small>æˆåŠŸä¸‹å•çš„äººæ•°</small>
                    </div>
                    <div class="form-group">
                        <label>æ¨å¹¿èŠ±è´¹ï¼ˆå…ƒï¼‰</label>
                        <input type="number" id="promotion" placeholder="ä¾‹å¦‚ï¼š200" value="150">
                        <small>è¿‘7æ—¥æ—¥å‡æ¨å¹¿è´¹ç”¨</small>
                    </div>
                </div>
                
                <div class="section-title">ğŸ’° è®¢å•æ•°æ®ï¼ˆè¿‘7æ—¥æ—¥å‡ï¼‰</div>
                <div class="form-grid">
                    <div class="form-group">
                        <label>è®¢å•é‡</label>
                        <input type="number" id="orderCount" placeholder="ä¾‹å¦‚ï¼š100" value="50">
                    </div>
                    <div class="form-group">
                        <label>è¥ä¸šé¢ï¼ˆå…ƒï¼‰</label>
                        <input type="number" id="revenue" placeholder="ä¾‹å¦‚ï¼š2500" value="1200">
                    </div>
                    <div class="form-group">
                        <label>å–æ¶ˆè®¢å•æ•°</label>
                        <input type="number" id="cancel" placeholder="ä¾‹å¦‚ï¼š5" value="3">
                    </div>
                </div>
                
                <div class="section-title">â­ è¯„ä»·æ•°æ®ï¼ˆè¿‘30æ—¥ï¼‰</div>
                <div class="form-grid">
                    <div class="form-group">
                        <label>å¹³å°è¯„åˆ†ï¼ˆ1-5åˆ†ï¼‰</label>
                        <input type="number" id="rating" min="1" max="5" step="0.1" placeholder="ä¾‹å¦‚ï¼š4.5" value="4.2">
                    </div>
                    <div class="form-group">
                        <label>å¥½è¯„æ•°</label>
                        <input type="number" id="positive" placeholder="ä¾‹å¦‚ï¼š100" value="85">
                    </div>
                    <div class="form-group">
                        <label>å·®è¯„æ•°</label>
                        <input type="number" id="negative" placeholder="ä¾‹å¦‚ï¼š5" value="8">
                    </div>
                    <div class="form-group">
                        <label>æŠ•è¯‰æ•°</label>
                        <input type="number" id="complaint" placeholder="ä¾‹å¦‚ï¼š0" value="1">
                    </div>
                </div>
                
                <div class="section-title">âš¡ è¿è¥æ•°æ®ï¼ˆè¿‘7æ—¥å¹³å‡ï¼‰</div>
                <div class="form-grid">
                    <div class="form-group">
                        <label>å¹³å‡å‡ºé¤æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰</label>
                        <input type="number" id="cookTime" step="0.1" placeholder="ä¾‹å¦‚ï¼š8" value="10.5">
                    </div>
                    <div class="form-group">
                        <label>å‡†æ—¶ç‡ï¼ˆ%ï¼‰</label>
                        <input type="number" id="ontime" min="0" max="100" placeholder="ä¾‹å¦‚ï¼š95" value="88">
                    </div>
                    <div class="form-group">
                        <label>é€€å•ç‡ï¼ˆ%ï¼‰</label>
                        <input type="number" id="refund" min="0" max="100" placeholder="ä¾‹å¦‚ï¼š2" value="3.5">
                    </div>
                </div>
                
                <button type="button" class="submit-btn" onclick="runDiagnosis()">
                    ğŸš€ å¼€å§‹è¯Šæ–­åˆ†æ
                </button>
            </form>
        </div>
        
        <div class="result-section" id="resultSection">
            <div class="score-card">
                <div class="score-value" id="totalScore">--</div>
                <div class="score-label" id="scoreLabel">ç»¼åˆè¯Šæ–­è¯„åˆ†</div>
            </div>
            
            <div class="section-title">ğŸ“ˆ å„ç»´åº¦è¯„åˆ†</div>
            <div class="dimension-list" id="dimensionList">
                <!-- åŠ¨æ€ç”Ÿæˆ -->
            </div>
            
            <div class="suggestions" id="suggestions">
                <h3>ğŸ’¡ ä¼˜åŒ–å»ºè®®</h3>
                <div id="suggestionList">
                    <!-- åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // é¢„è®¾æ•°æ®
        const presets = {
            good: {
                shopName: "ğŸŸ¢ ä¼˜ç§€ç¤ºèŒƒåº—",
                exposure: 8000, visit: 960, order: 240,
                promotion: 200, orderCount: 260, revenue: 6500,
                cancel: 5, rating: 4.8, positive: 200,
                negative: 3, complaint: 0,
                cookTime: 7, ontime: 97, refund: 1
            },
            average: {
                shopName: "ğŸŸ¡ æ™®é€šç¤ºèŒƒåº—",
                exposure: 4500, visit: 405, order: 81,
                promotion: 180, orderCount: 85, revenue: 2125,
                cancel: 8, rating: 4.3, positive: 85,
                negative: 10, complaint: 2,
                cookTime: 10, ontime: 92, refund: 3
            },
            poor: {
                shopName: "ğŸ”´ å¾…æ”¹è¿›ç¤ºèŒƒåº—",
                exposure: 2000, visit: 120, order: 18,
                promotion: 150, orderCount: 20, revenue: 400,
                cancel: 5, rating: 3.8, positive: 20,
                negative: 15, complaint: 5,
                cookTime: 18, ontime: 82, refund: 8
            }
        };
        
        function fillPreset(type) {
            if (type === 'clear') {
                document.getElementById('diagnosisForm').reset();
                return;
            }
            
            const data = presets[type];
            for (let key in data) {
                const el = document.getElementById(key);
                if (el) el.value = data[key];
            }
        }
        
        function runDiagnosis() {
            // è·å–è¡¨å•æ•°æ®
            const data = {
                name: document.getElementById('shopName').value,
                exposure: parseFloat(document.getElementById('exposure').value) || 0,
                visit: parseFloat(document.getElementById('visit').value) || 0,
                order: parseFloat(document.getElementById('order').value) || 0,
                promotion: parseFloat(document.getElementById('promotion').value) || 0,
                orderCount: parseFloat(document.getElementById('orderCount').value) || 0,
                revenue: parseFloat(document.getElementById('revenue').value) || 0,
                cancel: parseFloat(document.getElementById('cancel').value) || 0,
                rating: parseFloat(document.getElementById('rating').value) || 0,
                positive: parseFloat(document.getElementById('positive').value) || 0,
                negative: parseFloat(document.getElementById('negative').value) || 0,
                complaint: parseFloat(document.getElementById('complaint').value) || 0,
                cookTime: parseFloat(document.getElementById('cookTime').value) || 0,
                ontime: parseFloat(document.getElementById('ontime').value) || 0,
                refund: parseFloat(document.getElementById('refund').value) || 0,
            };
            
            // è®¡ç®—æŒ‡æ ‡
            const visitRate = data.exposure > 0 ? (data.visit / data.exposure * 100).toFixed(2) : 0;
            const orderRate = data.visit > 0 ? (data.order / data.visit * 100).toFixed(2) : 0;
            const aov = data.orderCount > 0 ? (data.revenue / data.orderCount).toFixed(2) : 0;
            const exposureCost = data.exposure > 0 ? (data.promotion / data.exposure).toFixed(2) : 0;
            const positiveRate = data.positive + data.negative > 0 ? 
                (data.positive / (data.positive + data.negative) * 100).toFixed(2) : 100;
            
            // è®¡ç®—å„ç»´åº¦å¾—åˆ†ï¼ˆç®€åŒ–ç®—æ³•ï¼‰
            const trafficScore = Math.min(100, (visitRate / 10 * 50 + orderRate / 25 * 50));
            const conversionScore = Math.min(100, orderRate / 25 * 100);
            const aovScore = Math.min(100, aov / 30 * 100);
            const satisfactionScore = data.rating / 5 * 100;
            const efficiencyScore = (data.ontime * 0.5 + (20 - data.cookTime) * 2.5);
            
            // æ€»è¯„åˆ†
            const totalScore = Math.round(
                trafficScore * 0.25 + 
                conversionScore * 0.25 + 
                aovScore * 0.15 + 
                satisfactionScore * 0.20 + 
                efficiencyScore * 0.15
            );
            
            // æ˜¾ç¤ºç»“æœ
            document.getElementById('totalScore').textContent = totalScore + 'åˆ†';
            document.getElementById('scoreLabel').textContent = getScoreLabel(totalScore);
            document.getElementById('totalScore').style.color = getScoreColor(totalScore);
            
            // æ˜¾ç¤ºå„ç»´åº¦
            const dimensions = [
                { name: 'æµé‡å¥åº·åº¦', score: Math.round(trafficScore) },
                { name: 'è½¬åŒ–èƒ½åŠ›', score: Math.round(conversionScore) },
                { name: 'å®¢å•ä»·æ°´å¹³', score: Math.round(aovScore) },
                { name: 'é¡¾å®¢æ»¡æ„åº¦', score: Math.round(satisfactionScore) },
                { name: 'è¿è¥æ•ˆç‡', score: Math.round(efficiencyScore) },
            ];
            
            document.getElementById('dimensionList').innerHTML = dimensions.map(d => `
                <div class="dimension-item">
                    <span class="dimension-name">${d.name}</span>
                    <span class="dimension-score ${getScoreClass(d.score)}">${d.score}åˆ†</span>
                </div>
            `).join('');
            
            // ç”Ÿæˆå»ºè®®
            const suggestions = generateSuggestions(data, {
                visitRate, orderRate, aov, positiveRate
            });
            
            document.getElementById('suggestionList').innerHTML = suggestions.map(s => `
                <div class="suggestion-item">
                    <strong>${s.title}</strong><br>
                    ${s.content}
                </div>
            `).join('');
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('resultSection').classList.add('active');
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth' });
        }
        
        function getScoreLabel(score) {
            if (score >= 90) return 'Sçº§ - å“è¶Š';
            if (score >= 80) return 'Açº§ - ä¼˜ç§€';
            if (score >= 70) return 'Bçº§ - è‰¯å¥½';
            if (score >= 60) return 'Cçº§ - åŠæ ¼';
            return 'Dçº§ - éœ€æ”¹è¿›';
        }
        
        function getScoreColor(score) {
            if (score >= 90) return '#10b981';
            if (score >= 80) return '#22c55e';
            if (score >= 70) return '#f59e0b';
            if (score >= 60) return '#f97316';
            return '#ef4444';
        }
        
        function getScoreClass(score) {
            if (score >= 80) return 'good';
            if (score >= 60) return 'warning';
            return 'danger';
        }
        
        function generateSuggestions(data, rates) {
            const suggestions = [];
            
            if (rates.visitRate < 8) {
                suggestions.push({
                    title: 'âš ï¸ å…¥åº—è½¬åŒ–ç‡åä½',
                    content: 'å»ºè®®ä¼˜åŒ–åº—é“ºå¤´åƒå’Œåç§°ï¼Œè®¾ç½®æœ‰å¸å¼•åŠ›çš„æ»¡å‡æ´»åŠ¨å¹¶çªå‡ºå±•ç¤ºã€‚å½“å‰å…¥åº—è½¬åŒ–ç‡' + rates.visitRate + '%ï¼Œè¡Œä¸šå¹³å‡æ°´å¹³ä¸º8-12%ã€‚'
                });
            }
            
            if (rates.orderRate < 18) {
                suggestions.push({
                    title: 'âš ï¸ ä¸‹å•è½¬åŒ–ç‡å¾…æå‡',
                    content: 'å»ºè®®ä¼˜åŒ–èœå“å›¾ç‰‡è´¨é‡ï¼Œè°ƒæ•´ä»·æ ¼ç­–ç•¥ï¼Œå¢åŠ å¥—é¤ç»„åˆã€‚å½“å‰ä¸‹å•è½¬åŒ–ç‡' + rates.orderRate + '%ï¼Œå»ºè®®æå‡è‡³18%ä»¥ä¸Šã€‚'
                });
            }
            
            if (data.rating < 4.5) {
                suggestions.push({
                    title: 'â­ æå‡å¹³å°è¯„åˆ†',
                    content: 'ä¸»åŠ¨é‚€è¯·æ»¡æ„é¡¾å®¢ç•™è¯„ï¼ŒåŠæ—¶å›å¤å·®è¯„å¹¶è§£å†³é—®é¢˜ã€‚è¯„åˆ†æå‡0.1åˆ†å¯æ˜¾è‘—å¢åŠ è‡ªç„¶æµé‡ã€‚'
                });
            }
            
            if (data.cookTime > 12) {
                suggestions.push({
                    title: 'â±ï¸ ç¼©çŸ­å‡ºé¤æ—¶é—´',
                    content: 'å½“å‰å‡ºé¤æ—¶é—´' + data.cookTime + 'åˆ†é’Ÿï¼Œå»ºè®®ä¼˜åŒ–åå¨åŠ¨çº¿ï¼Œç›®æ ‡æ§åˆ¶åœ¨12åˆ†é’Ÿä»¥å†…ã€‚'
                });
            }
            
            if (suggestions.length === 0) {
                suggestions.push({
                    title: 'âœ… æ•´ä½“è¡¨ç°è‰¯å¥½',
                    content: 'åº—é“ºå„é¡¹æŒ‡æ ‡å¥åº·ï¼Œå»ºè®®ç»§ç»­ä¿æŒå¹¶å…³æ³¨ç«å“åŠ¨æ€ï¼ŒæŒç»­ä¼˜åŒ–ç»è¥ã€‚'
                });
            }
            
            return suggestions;
        }
    </script>
</body>
</html>
