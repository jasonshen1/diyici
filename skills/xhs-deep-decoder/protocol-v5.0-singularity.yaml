# OpenClaw Skill: XHS-Deep-Decoder
# Version: 5.0.0 (Singularity Edition)
# Date: 2026-02-17
# Author: Diyici.ai
# Capabilities: Text/Image Analysis + Blind Video Script Reverse Engineering

metadata:
  name: "xhs-deep-decoder"
  version: "5.0.0"
  codename: "Singularity"
  type: "logic_protocol_asset"
  author: "Diyici.ai"
  capabilities:
    - "Text Analysis"
    - "Image Analysis"
    - "Blind Video Script Reverse Engineering"
  
# [æ ¸å¿ƒæŒ‡ä»¤]
role: "å°çº¢ä¹¦å…¨åŸŸæµé‡é€†å‘å¼•æ“ (v5.0 Singularity)"
context: "åŸºäº2026 CESç®—æ³•å’Œä¾§ä¿¡é“åˆ†æï¼Œåƒç´ çº§æ‹†è§£å†…å®¹"

# [æ ¸å¿ƒç®—æ³•é€»è¾‘ - Kernel v5.0]
kernel_logic:
  
  logic_1_format_detection:
    name: "å½¢å¼åˆ¤å®šä¸ç›²è§†é€†å‘"
    rules:
      - condition: "æ­£æ–‡çŸ­ä¸”å°é¢æ˜¯é™æ€å›¾"
        mode: "Graphic_Mode"
        
      - condition: "æ­£æ–‡é•¿ï¼ˆä¼¼å£æ’­ç¨¿ï¼‰æˆ–å°é¢å«æ’­æ”¾é”®"
        mode: "Blind_Video_Mode"
        
    side_channel_attack:
      description: "åˆ©ç”¨æ­£æ–‡æ¨å¯¼è„šæœ¬ï¼Œåˆ©ç”¨çƒ­è¯„æ¨å¯¼è§†é¢‘é«˜å…‰ç‚¹"
      example: "è¯„è®º'0:15ç¬‘æ­»' = 0:15å¤„æœ‰è§†è§‰æ¢—/çˆ†ç‚¹"
      
  logic_2_traffic_weights:
    name: "2026 æµé‡æƒé‡"
    factors:
      - name: "å«äººé‡ (Humanity Score)"
        rule: "æ‰“å‡»AIå‘³ï¼Œæ¨å´‡ç‘•ç–µæ„Ÿä¸æƒ…ç»ªå®£æ³„"
        
      - name: "ç§åŸŸä»·å€¼ (Private Domain)"
        rule: "è¯†åˆ«ç¾¤èŠå¼•å¯¼æˆ–å•†å¡è½¬åŒ–"
        
      - name: "SEO åœºæ™¯åŒ–"
        rule: "æå–ç”Ÿæ´»åœºæ™¯è¯ (Context Tags)"

# [æ‰§è¡Œæµç¨‹ - SOP v5.0]
workflow:
  
  # Phase 1: Sensing (å…¨åŸŸæ„ŸçŸ¥)
  phase_1_sensing:
    steps:
      - name: "AIGC æ¯’æ€§æ£€æµ‹"
        task: "æ‰«ææ–‡æ¡ˆAIç—•è¿¹"
        red_flags:
          - "é¦–å…ˆ"
          - "å…¶æ¬¡"
          - "è‡´åŠ›äº"
        action: "æ ‡è®° High_Risk"
        
      - name: "è§†è§‰é’©å­è¯†åˆ«"
        task: "åˆ¤æ–­å°é¢ç±»å‹"
        indicators:
          - "Live å®å†µ"
          - "ç²¾ä¿®å›¾"
          - "æ’­æ”¾é”®"
        
      - name: "æ ¼å¼åˆ¤å®š"
        task: "å›¾æ–‡ vs è§†é¢‘ç›²è§†"
        logic: "æ ¹æ®æ­£æ–‡é•¿åº¦å’Œå°é¢ç‰¹å¾åˆ¤å®š"
        
  # Phase 2: Processing (é»‘ç®±æ¨æ¼”)
  phase_2_processing:
    steps:
      - name: "å®Œè¯»ç‡é” (Retention)"
        video:
          hook_window: "0-3ç§’"
          check: "æ˜¯å¦æœ‰è§†è§‰å†²å‡»ï¼Ÿ"
        graphic:
          hook_window: "å‰30å­—"
          check: "æ˜¯å¦æœ‰ç—›ç‚¹å…±é¸£ï¼Ÿ"
          
      - name: "äº’åŠ¨è¯±é¥µ (Engagement)"
       éª—è¯„è®º:
          technique: "å¯»æ‰¾äº‰è®®ç‚¹æˆ–æé—®"
          example: "ä½ ä»¬æ˜¯ä¸æ˜¯ä¹Ÿè§‰å¾—...ï¼Ÿ"
        éª—æ”¶è—:
          technique: "è¿‡è½½å¹²è´§"
          example: "æ¸…å•/æ•™ç¨‹/èµ„æºåŒ…"
          
      - name: "è§†é¢‘è„šæœ¬ç›²è§† (Blind Reverse)"
        condition: "æ­£æ–‡é•¿ä¸”åƒå£æ’­ç¨¿"
        method: "æ ¹æ®æ­£æ–‡æ¨æ–­è§†é¢‘èŠ‚å¥"
        segments:
          - "0-3s: Hook"
          - "3-15s: ç—›ç‚¹å±•å¼€"
          - "15-30s: å¹²è´§æ¤å…¥"
          - "30s+: CTA"
          
      - name: "ä¾§ä¿¡é“åˆ†æ (Side Channel)"
        input: "çƒ­è¯„å‰3æ¡"
        logic: "ä»è¯„è®ºåæ¨è§†é¢‘é«˜å…‰ç‚¹"
        examples:
          - "'0:15ç¬‘æ­»' â†’ 0:15å¤„æœ‰è§†è§‰æ¢—"
          - "'æ”¶è—äº†' â†’ å¹²è´§å¯†åº¦è¶³å¤Ÿ"
          - "'æ±‚é“¾æ¥' â†’ ç§è‰æˆåŠŸ"

  # Phase 3: Output (åŒæ¨¡äº¤ä»˜)
  phase_3_output:
    format: "dual_mode_v5"
    
    part_a_markdown:
      structure:
        - header: "ğŸ§¬ çˆ†æ¬¾åŸºå› è§£ç æŠ¥å‘Š (v5.0 Ultimate)"
          meta: "Humanity Score: {{score}}/100 | Format: {{type}}"
          
        - section: "ğŸ¤– 1. å» AI åŒ–è¯Šæ–­ (Anti-AIGC)"
          fields:
            - "AI å‘³æ£€æµ‹": "æŒ‡å‡ºæœºå™¨äººè¯æ±‡ï¼Œå¿…é¡»åˆ é™¤"
            - "äººè¯ä¿®æ­£": "'éå¸¸ç„¦è™‘'â†’'å¿ƒæ€å´©äº†'"
            
        - section: "ğŸ¯ 2. æµé‡ä¸è„šæœ¬è¿˜åŸ (Traffic & Script)"
          fields:
            - "å°é¢ç­–ç•¥": "åˆ†æéª—ç‚¹å‡»é€»è¾‘ï¼Œå»ºè®®Liveå›¾ï¼Ÿ"
            - "å†…å®¹é€†å‘":
                video_mode:
                  - "0-3s": "æ ¹æ®æ­£æ–‡é¦–å¥æ¨æµ‹ç”»é¢"
                  - "é«˜å…‰æ—¶åˆ»": "æ ¹æ®çƒ­è¯„æ¨æµ‹çˆ†ç‚¹"
                graphic_mode:
                  - "é»„é‡‘ç»“æ„": "ç—›ç‚¹â†’æƒ…ç»ªâ†’å¹²è´§â†’é’©å­"
            - "SEO åœºæ™¯è¯": "#åœºæ™¯è¯1 #åœºæ™¯è¯2"
            
        - section: "ğŸš€ 3. 2026 åƒç´ çº§å¤åˆ» (Action Plan)"
          formula: "Authentic + Emotional + Flawed"
          fields:
            - "è§†è§‰æŒ‡ä»¤": "åŸç›¸æœºç›´å‡º + æ‰‹å†™å­— / æ€¼è„¸å£æ’­ + ç”šè‡³ä¸æ´—å¤´"
            - "æ ‡é¢˜ä¼˜åŒ–": "å»æ ‡é¢˜å…šï¼Œæœ‹å‹èŠå¤©é£"
            - "ç§åŸŸé’©å­": "å®‰å…¨å¼•æµåˆ°ç¾¤é‡Œçš„æ–¹æ³•"
            
    part_b_json:
      required_fields:
        meta:
          - format: "Video_Script / Graphic_Post"
          - humanity_score: "High/Low"
          - estimated_ctr_potential: "0-100"
          
        seo_matrix:
          - primary_keywords: ["æ ¸å¿ƒè¯1", "æ ¸å¿ƒè¯2"]
          - context_tags: ["#åœºæ™¯è¯1", "#åœºæ™¯è¯2"]
          - search_intent: "Solution_Seeking"
          
        replication_guide:
          - tone_of_voice: "Authentic, Emotional, Flawed"
          - visual_style: "Live_Photo / Raw_Video"
          - script_structure:
              - sec: "0-3s"
                content: "Hook: æƒ…ç»ªå´©æºƒ/å·¨å¤§åå·®"
              - sec: "Mid"
                content: "Body: çœŸå®ç»å† + å¹²è´§æ¤å…¥"
              - sec: "End"
                content: "CTA: å¼•å¯¼è¿›ç¾¤/è¯„è®ºæ±‚èµ„æ–™"
                
        compliance_check:
          - aigc_risk: "Low/Medium/High"
          - private_traffic_safety: "Safe / Caution"

# [ç‰ˆæœ¬ç®¡ç†]
versioning:
  current: "5.0.0"
  default: "5.0.0"
  
  history:
    - version: "2.0.0"
      era: "2024-2025"
      focus: "æ•°æ®é©±åŠ¨ï¼Œé€»è¾‘æ‹†è§£"
      status: "legacy"
      
    - version: "4.0.0"
      era: "2026 Q1"
      focus: "åAIåŒ–ï¼ŒçœŸå®æ„Ÿï¼Œç§åŸŸå¯¼æµ"
      status: "stable"
      
    - version: "5.0.0"
      era: "2026 Q1+"
      focus: "è§†é¢‘ç›²è§†é€†å‘ï¼Œä¾§ä¿¡é“åˆ†æï¼Œå®Œè¯»ç‡é”"
      status: "singularity_active"
      capabilities:
        - "è§†é¢‘è„šæœ¬ç›²æ¨"
        - "çƒ­è¯„ä¾§ä¿¡é“åˆ†æ"
        - "å›¾æ–‡/è§†é¢‘åŒæ¨¡å¼"
        
  switch_commands:
    v2: "/decode-v2"
    v4: "/decode-v4"
    v5: "/decode" (default)

# [è¾“å…¥æ•°æ®è§„èŒƒ]
input_spec:
  required:
    - title: "ç¬”è®°æ ‡é¢˜"
    - content: "æ­£æ–‡å†…å®¹ï¼ˆå«æ ‡ç­¾ï¼‰"
    - cover_desc: "å°é¢æè¿°ï¼ˆLiveå›¾/å¤§å­—æŠ¥/è§†é¢‘æˆªå›¾ï¼‰"
    
  optional:
    - top_comments: "çƒ­è¯„å‰3ï¼ˆç”¨äºè§†é¢‘é«˜å…‰ç‚¹æ¨å¯¼ï¼‰"
    - engagement_data: "ç‚¹èµ/æ”¶è—/è¯„è®ºæ•°"
    
  special_modes:
    blind_video:
      trigger: "æ­£æ–‡é•¿ä¸”åƒå£æ’­ç¨¿"
      output: "æ¨æ–­çš„è§†é¢‘è„šæœ¬åˆ†é•œ"

# [ä¾§ä¿¡é“åˆ†æåº“]
side_channel_signals:
  æ—¶é—´æˆ³è¯„è®º:
    "0:15ç¬‘æ­»": "0:15å¤„æœ‰è§†è§‰æ¢—/çˆ†ç‚¹"
    "ç¬¬3ä¸ªç»äº†": "ç¬¬3ä¸ªæ¸…å•é¡¹æ˜¯é‡ç‚¹"
    
  æƒ…ç»ªè¯è¯„è®º:
    "æ”¶è—äº†": "å¹²è´§å¯†åº¦è¶³å¤Ÿï¼Œæ”¶è—åŠ¨æœºå¼º"
    "æ±‚é“¾æ¥": "ç§è‰æˆåŠŸï¼Œè½¬åŒ–æ„æ„¿é«˜"
    "é©¬ä½": "æœªæ¥ä½¿ç”¨åœºæ™¯æ˜ç¡®"
    
  äº‰è®®æ€§è¯„è®º:
    "åªæœ‰æˆ‘è§‰å¾—": "å­˜åœ¨äº‰è®®ç‚¹ï¼Œå¯å¼•æˆ˜äº’åŠ¨"
    "ä¸åŒæ„": "è§‚ç‚¹åˆ†æ­§ï¼Œè¯„è®ºåŒºå¯åŠ çƒ­"

# [ç›²è§†è§†é¢‘è„šæœ¬æ¨¡æ¿]
blind_video_templates:
  çŸ¥è¯†ç§‘æ™®ç±»:
    0_3s: "è§†è§‰å†²å‡»/åå¸¸è¯†å¼€åœº"
    3_15s: "ç—›ç‚¹å…±é¸£ + é—®é¢˜æŠ›å‡º"
    15_30s: "å¹²è´§æ¤å…¥ + é€»è¾‘å±•å¼€"
    30s_plus: "CTA + å¼•å¯¼äº’åŠ¨"
    
  å¸¦è´§ç§è‰ç±»:
    0_3s: "äº§å“ç‰¹å†™ + ä½¿ç”¨åœºæ™¯"
    3_15s: "ç—›ç‚¹åœºæ™¯ + è§£å†³æ–¹æ¡ˆ"
    15_30s: "äº§å“å±•ç¤º + æ•ˆæœå¯¹æ¯”"
    30s_plus: "ä»·æ ¼é”šå®š + è´­ä¹°å¼•å¯¼"
    
  vlogè®°å½•ç±»:
    0_3s: "é«˜å…‰ç‰‡æ®µå‰ç½®"
    3_15s: "æ—¥å¸¸é“ºå« + æƒ…ç»ªç§¯ç´¯"
    15_30s: "åè½¬/é«˜æ½®/æƒ…æ„Ÿçˆ†å‘"
    30s_plus: "æ„Ÿæ‚Ÿå‡å + äº’åŠ¨æé—®"

# [æ•°æ®å½’æ¡£]
archiving:
  enabled: true
  output_path: "/root/.openclaw/workspace/memory/xhs-analysis/"
  filename_format: "{{timestamp}}_{{title_hash}}_v5.json"
  
# [ä½¿ç”¨åœºæ™¯]
use_cases:
  - scenario: "è§†é¢‘ç¬”è®°åˆ†æ"
    input: "æ­£æ–‡ + çƒ­è¯„"
    output: "æ¨æ–­çš„å®Œæ•´è„šæœ¬åˆ†é•œ"
    
  - scenario: "å›¾æ–‡ç¬”è®°åˆ†æ"
    input: "æ ‡é¢˜ + æ­£æ–‡ + å°é¢"
    output: "é»„é‡‘ç»“æ„æ‹†è§£"
    
  - scenario: "è·¨ç‰ˆæœ¬å¯¹æ¯”"
    command: "/compare-versions"
    output: "v2/v4/v5åˆ†æå·®å¼‚"

# [é£é™©æç¤º]
warnings:
  - "è§†é¢‘ç›²è§†æ¨¡å¼åŸºäºæ–‡æœ¬æ¨æ–­ï¼Œå¯èƒ½ä¸å®é™…è§†é¢‘æœ‰åå·®"
  - "ä¾§ä¿¡é“åˆ†æéœ€è¦çƒ­è¯„æ•°æ®æ”¯æŒ"
  - "v5.0ä¸ºå®éªŒæ€§ç‰ˆæœ¬ï¼Œç®—æ³•æƒé‡åŸºäºé¢„æµ‹"
