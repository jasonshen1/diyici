# Shadowrocket 代理配置文件
# 使用说明：
# 1. 将以下内容保存为 .conf 文件（如 proxy.conf）
# 2. 通过 AirDrop、邮件或微信发送到 iPhone
# 3. 在 iPhone 上点击文件，选择"用 Shadowrocket 打开"
# 4. 根据你的实际代理服务器修改以下配置

[General]
bypass-system = true
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, captive.apple.com
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32
dns-server = 8.8.8.8, 8.8.4.4, 1.1.1.1
fallback-dns-server = system
ipv6 = true
prefer-ipv6 = false
http-listen = 0.0.0.0:1080
socks5-listen = 0.0.0.0:1081
loglevel = notify

[Proxy]
# =====================================================
# 请根据你的实际代理服务器修改以下信息
# =====================================================

# Shadowsocks 节点示例（推荐）
# 格式：节点名称 = ss, 服务器地址, 端口, 加密方法, 密码
SS-Node = ss, your-server.com, 8388, aes-256-gcm, your-password

# VMess 节点示例（V2Ray）
# 格式：节点名称 = vmess, 服务器地址, 端口, 加密方式, UUID, alterId
VMess-Node = vmess, your-server.com, 443, auto, your-uuid-here, 0

# Trojan 节点示例
# 格式：节点名称 = trojan, 服务器地址, 端口, 密码
Trojan-Node = trojan, your-server.com, 443, your-password

# HTTP 代理示例
# HTTP-Node = http, your-server.com, 8080, username, password

# SOCKS5 代理示例
# SOCKS5-Node = socks5, your-server.com, 1080, username, password

# =====================================================
# 示例节点（仅供格式参考，不可使用）
# =====================================================
# 示例-香港 = ss, hk.example.com, 8388, aes-256-gcm, password123
# 示例-美国 = vmess, us.example.com, 443, auto, uuid-here, 0

[Proxy Group]
# 自动选择最快节点
Auto-Select = url-test, SS-Node, VMess-Node, Trojan-Node, url = http://www.google.com/generate_204, interval = 300

# 手动选择节点
Manual-Select = select, SS-Node, VMess-Node, Trojan-Node, DIRECT

# 故障转移
Failover = failover, SS-Node, VMess-Node, Trojan-Node, url = http://www.google.com/generate_204, interval = 300

[Rule]
# 全球直连（国内网站直连）
DOMAIN-SUFFIX,cn,DIRECT
DOMAIN-SUFFIX,alipay.com,DIRECT
DOMAIN-SUFFIX,baidu.com,DIRECT
DOMAIN-SUFFIX,bilibili.com,DIRECT
DOMAIN-SUFFIX,dingtalk.com,DIRECT
DOMAIN-SUFFIX,douban.com,DIRECT
DOMAIN-SUFFIX,icbc.com,DIRECT
DOMAIN-SUFFIX,jd.com,DIRECT
DOMAIN-SUFFIX,qq.com,DIRECT
DOMAIN-SUFFIX,taobao.com,DIRECT
DOMAIN-SUFFIX,tmall.com,DIRECT
DOMAIN-SUFFIX,weibo.com,DIRECT
DOMAIN-SUFFIX,weixin.com,DIRECT
DOMAIN-SUFFIX,xiaohongshu.com,DIRECT
DOMAIN-SUFFIX,zhihu.com,DIRECT

# 苹果服务优化
DOMAIN-SUFFIX,apple.com,DIRECT
DOMAIN-SUFFIX,icloud.com,DIRECT
DOMAIN-SUFFIX,itunes.com,DIRECT
DOMAIN-SUFFIX,me.com,DIRECT
DOMAIN-SUFFIX,mzstatic.com,DIRECT

# 局域网直连
IP-CIDR,127.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,17.0.0.0/8,DIRECT
IP-CIDR,100.64.0.0/10,DIRECT
IP-CIDR,224.0.0.0/4,DIRECT
IP-CIDR,fe80::/10,DIRECT

# 微软服务
DOMAIN-KEYWORD,microsoft,Auto-Select
DOMAIN-SUFFIX,msedge.net,Auto-Select
DOMAIN-SUFFIX,bing.com,Auto-Select
DOMAIN-SUFFIX,msn.com,Auto-Select
DOMAIN-SUFFIX,windows.com,Auto-Select
DOMAIN-SUFFIX,windowsupdate.com,DIRECT

# Google 服务
DOMAIN-KEYWORD,google,Auto-Select
DOMAIN-SUFFIX,googleapis.com,Auto-Select
DOMAIN-SUFFIX,googlevideo.com,Auto-Select
DOMAIN-SUFFIX,gstatic.com,Auto-Select
DOMAIN-SUFFIX,youtube.com,Auto-Select
DOMAIN-SUFFIX,ytimg.com,Auto-Select

# 国外社交媒体
DOMAIN-SUFFIX,facebook.com,Auto-Select
DOMAIN-SUFFIX,instagram.com,Auto-Select
DOMAIN-SUFFIX,twitter.com,Auto-Select
DOMAIN-SUFFIX,twimg.com,Auto-Select
DOMAIN-SUFFIX,x.com,Auto-Select
DOMAIN-SUFFIX,tiktok.com,Auto-Select
DOMAIN-SUFFIX,linkedin.com,Auto-Select

# 流媒体服务
DOMAIN-SUFFIX,netflix.com,Auto-Select
DOMAIN-SUFFIX,nflxvideo.net,Auto-Select
DOMAIN-SUFFIX,disneyplus.com,Auto-Select
DOMAIN-SUFFIX,hulu.com,Auto-Select
DOMAIN-SUFFIX,hbomax.com,Auto-Select
DOMAIN-SUFFIX,amazon.com,Auto-Select
DOMAIN-SUFFIX,primevideo.com,Auto-Select

# AI 服务
DOMAIN-SUFFIX,openai.com,Auto-Select
DOMAIN-SUFFIX,chatgpt.com,Auto-Select
DOMAIN-SUFFIX,anthropic.com,Auto-Select
DOMAIN-SUFFIX,claude.ai,Auto-Select
DOMAIN-SUFFIX,gemini.google.com,Auto-Select
DOMAIN-SUFFIX,bard.google.com,Auto-Select

# 开发相关
DOMAIN-SUFFIX,github.com,Auto-Select
DOMAIN-SUFFIX,gitlab.com,Auto-Select
DOMAIN-SUFFIX,stackoverflow.com,Auto-Select
DOMAIN-SUFFIX,stackexchange.com,Auto-Select
DOMAIN-SUFFIX,npmjs.com,Auto-Select
DOMAIN-SUFFIX,docker.com,Auto-Select
DOMAIN-SUFFIX,medium.com,Auto-Select
DOMAIN-SUFFIX,dev.to,Auto-Select

# 其他国外网站
DOMAIN-SUFFIX,wikipedia.org,Auto-Select
DOMAIN-SUFFIX,reddit.com,Auto-Select
DOMAIN-SUFFIX,quora.com,Auto-Select
DOMAIN-SUFFIX,tumblr.com,Auto-Select
DOMAIN-SUFFIX,pinterest.com,Auto-Select
DOMAIN-SUFFIX,flickr.com,Auto-Select
DOMAIN-SUFFIX,dropbox.com,Auto-Select
DOMAIN-SUFFIX,imgur.com,Auto-Select

# 最终规则（走代理）
GEOIP,CN,DIRECT
FINAL,Auto-Select

[Host]
# 本地 DNS 映射
localhost = 127.0.0.1

[URL Rewrite]
# URL 重写规则（可选）
# ^http://(www.)?google.com http://www.google.com 302

[MITM]
# 中间人攻击配置（用于解密 HTTPS，谨慎使用）
# hostname = *.google.com
# enable = true
# ca-passphrase = Shadowrocket
# ca-p12 = base64-encoded-p12

[Script]
# JavaScript 脚本（高级功能）
# 可在此处添加脚本规则
